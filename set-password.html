<h2>Set New Password</h2>
<input id="newPass" type="password">
<button onclick="setPassword()">Save</button>

<script type="module">
import { updatePassword }
from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
import { auth, db } from "./js/firebase.js";
import { updateDoc, doc }
from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

window.setPassword = async () => {
  await updatePassword(auth.currentUser, newPass.value);
  const id = new URLSearchParams(location.search).get("mid");
  await updateDoc(doc(db,"members",id), { passwordSet:true });
  location.href="member.html";
};
</script>
